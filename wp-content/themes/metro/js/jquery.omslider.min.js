/*
 * jQuery omSlider Plugin
 * Copyright (c) 2012 Strelkey
 * Version: 1.2.2
 */
(function(d){function i(g,b,e,a){d(b).stop(!0,!0);e.resize&&g.stop(!0,!0);a=e.currSlide+a;a>b.length-1?a=0:0>a&&(a=b.length-1);l(g,b,e,a)}function l(g,b,e,a){if(a!=e.currSlide){m(e.pager,a);d(b).stop(!0,!0);e.resize&&g.stop(!0,!0);var f=e.currSlide;e.currSlide=a;d(b[f]).css("z-index","1").removeClass("active");e.fadePrev&&d(b[f]).fadeTo(e.speed,0);d(b[a]).fadeTo(0,0).css({position:"absolute",top:0,left:0,right:0,zIndex:2}).addClass("active").fadeTo(e.speed,1,function(){d(b[f]).hide();d(this).css({position:"static"})}); e.resize&&(a=d(b[a]).outerHeight(),g.css("height",g.height()+"px").animate({height:a+"px"},e.speed,function(){d(this).css("height","auto")}))}}function m(g,b){d(g).each(function(){d(this).children().removeClass("active").eq(b).addClass("active")})}d.fn.omSlider=function(g){return this.each(function(){g=g||{};var b=d(this),e,a=b.children(),f=a.get();if(!(2>f.length)){var c=d.extend({},d.fn.omSlider.defaults,g);"absolute"==b.css("position")?!0:b.css("position","relative");b.css("overflow","hidden"); a.filter(":eq("+c.active+")").length?(a.filter(":eq("+c.active+")").addClass("active").show(),a.filter(":not(:eq("+c.active+"))").hide(),c.currSlide=c.active):(a.filter(":first").addClass("active").show(),a.filter(":gt(0)").hide(),c.currSlide=0);c.prev&&d(c.prev).bind("click",function(a){a.preventDefault();i(b,f,c,-1)});c.next&&d(c.next).bind("click",function(a){a.preventDefault();i(b,f,c,1)});if(c.pager){a=d(c.pager);a.empty();for(var j,k=0;k<f.length;k++)j=d.isFunction(c.pagerAnchorBuilder)?c.pagerAnchorBuilder(k): '<a href="#">'+(k+1)+"</a>",j=d(j),j.data("index",k),j.click(function(a){a.preventDefault();l(b,f,c,d(this).data("index"))}).appendTo(a);m(c.pager,c.currSlide)}c.timeout&&(e=setInterval(function(){i(b,f,c,1)},c.timeout));c.timeout&&c.pause&&b.mouseenter(function(){clearInterval(e)}).mouseleave(function(){e=setInterval(function(){i(b,f,c,1)},c.timeout)});var h=-1;b.bind("touchstart",function(a){h=(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]).pageX});b.bind("touchmove",function(a){0<= h&&(a.preventDefault(),a=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],30<a.pageX-h?(i(b,f,c,-1),h=-1):-30>a.pageX-h&&(i(b,f,c,1),h=-1))});d(document).bind("touchend",function(){h=-1})}})};d.fn.omSlider.defaults={speed:1E3,next:null,prev:null,pager:null,pagerAnchorBuilder:null,resize:!0,fadePrev:!1,active:0,timeout:0,pause:0}})(jQuery);